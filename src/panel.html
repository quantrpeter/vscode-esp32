<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MicroPython Device Files</title>
    <style>
        body { font-family: sans-serif; padding: 16px; }
        .toolbar { display: flex; gap: 10px; margin-bottom: 16px; }
        .toolbar button {
            padding: 6px 16px;
            font-size: 1em;
            cursor: pointer;
            border-radius: 4px;
            border: 1px solid var(--vscode-button-border, #ccc);
            background: var(--vscode-button-background, #f3f3f3);
            color: var(--vscode-button-foreground, inherit);
            transition: background 0.2s;
        }
        .toolbar button:hover {
            background: var(--vscode-button-hoverBackground, #e0e0e0);
        }
        .loader { display: flex; justify-content: center; align-items: center; height: 80px; }
    </style>
</head>
<body>
    <div class="toolbar">
        <button id="uploadBtn">Upload</button>
        <button id="renameBtn">Rename</button>
        <button id="deleteBtn">Delete</button>
        <button id="reloadBtn">Reload</button>
    </div>
    <h2>Files on device</h2>
    <div id="loader" class="loader">
        <svg width="48" height="48" viewBox="0 0 48 48" xmlns="http://www.w3.org/2000/svg">
            <circle cx="24" cy="24" r="20" stroke="#888" stroke-width="4" fill="none" opacity="0.2"/>
            <circle cx="24" cy="24" r="20" stroke="#0078d4" stroke-width="4" fill="none" stroke-dasharray="31.4 31.4" stroke-linecap="round">
                <animateTransform attributeName="transform" type="rotate" from="0 24 24" to="360 24 24" dur="1s" repeatCount="indefinite"/>
            </circle>
        </svg>
    </div>
    <div id="files"></div>
    <script>
        document.getElementById('uploadBtn').onclick = () => {
            window.parent.postMessage({ command: 'upload' }, '*');
            alert('Upload button clicked!');
        };
        document.getElementById('renameBtn').onclick = () => {
            window.parent.postMessage({ command: 'rename' }, '*');
            alert('Rename button clicked!');
        };
        document.getElementById('deleteBtn').onclick = () => {
            window.parent.postMessage({ command: 'delete' }, '*');
            alert('Delete button clicked!');
        };
        document.getElementById('reloadBtn').onclick = () => {
            window.parent.postMessage({ command: 'reload' }, '*');
        };
    </script>
</body>
</html>
